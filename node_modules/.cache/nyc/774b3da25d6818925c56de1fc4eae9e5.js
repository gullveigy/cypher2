'use strict';

var cov_22vkcdqz03 = function () {
    var path = 'C:\\Users\\dell\\Desktop\\accountingtestings\\routes\\users.js',
        hash = 'd8502e3b487757deddebadc131edfbf48302022c',
        Function = function () {}.constructor,
        global = new Function('return this')(),
        gcv = '__coverage__',
        coverageData = {
        path: 'C:\\Users\\dell\\Desktop\\accountingtestings\\routes\\users.js',
        statementMap: {
            '0': {
                start: {
                    line: 6,
                    column: 13
                },
                end: {
                    line: 6,
                    column: 29
                }
            },
            '1': {
                start: {
                    line: 7,
                    column: 15
                },
                end: {
                    line: 7,
                    column: 34
                }
            },
            '2': {
                start: {
                    line: 9,
                    column: 16
                },
                end: {
                    line: 9,
                    column: 75
                }
            },
            '3': {
                start: {
                    line: 11,
                    column: 0
                },
                end: {
                    line: 11,
                    column: 29
                }
            },
            '4': {
                start: {
                    line: 14,
                    column: 9
                },
                end: {
                    line: 14,
                    column: 28
                }
            },
            '5': {
                start: {
                    line: 16,
                    column: 0
                },
                end: {
                    line: 18,
                    column: 3
                }
            },
            '6': {
                start: {
                    line: 17,
                    column: 4
                },
                end: {
                    line: 17,
                    column: 65
                }
            },
            '7': {
                start: {
                    line: 20,
                    column: 0
                },
                end: {
                    line: 22,
                    column: 3
                }
            },
            '8': {
                start: {
                    line: 21,
                    column: 4
                },
                end: {
                    line: 21,
                    column: 65
                }
            },
            '9': {
                start: {
                    line: 32,
                    column: 0
                },
                end: {
                    line: 42,
                    column: 1
                }
            },
            '10': {
                start: {
                    line: 34,
                    column: 4
                },
                end: {
                    line: 34,
                    column: 54
                }
            },
            '11': {
                start: {
                    line: 36,
                    column: 4
                },
                end: {
                    line: 41,
                    column: 7
                }
            },
            '12': {
                start: {
                    line: 37,
                    column: 8
                },
                end: {
                    line: 38,
                    column: 26
                }
            },
            '13': {
                start: {
                    line: 38,
                    column: 12
                },
                end: {
                    line: 38,
                    column: 26
                }
            },
            '14': {
                start: {
                    line: 40,
                    column: 8
                },
                end: {
                    line: 40,
                    column: 47
                }
            },
            '15': {
                start: {
                    line: 63,
                    column: 0
                },
                end: {
                    line: 78,
                    column: 1
                }
            },
            '16': {
                start: {
                    line: 65,
                    column: 4
                },
                end: {
                    line: 65,
                    column: 54
                }
            },
            '17': {
                start: {
                    line: 67,
                    column: 15
                },
                end: {
                    line: 67,
                    column: 25
                }
            },
            '18': {
                start: {
                    line: 68,
                    column: 4
                },
                end: {
                    line: 68,
                    column: 32
                }
            },
            '19': {
                start: {
                    line: 69,
                    column: 4
                },
                end: {
                    line: 69,
                    column: 38
                }
            },
            '20': {
                start: {
                    line: 71,
                    column: 4
                },
                end: {
                    line: 77,
                    column: 7
                }
            },
            '21': {
                start: {
                    line: 72,
                    column: 8
                },
                end: {
                    line: 76,
                    column: 74
                }
            },
            '22': {
                start: {
                    line: 73,
                    column: 12
                },
                end: {
                    line: 73,
                    column: 68
                }
            },
            '23': {
                start: {
                    line: 76,
                    column: 12
                },
                end: {
                    line: 76,
                    column: 74
                }
            },
            '24': {
                start: {
                    line: 82,
                    column: 0
                },
                end: {
                    line: 94,
                    column: 1
                }
            },
            '25': {
                start: {
                    line: 84,
                    column: 4
                },
                end: {
                    line: 84,
                    column: 54
                }
            },
            '26': {
                start: {
                    line: 86,
                    column: 4
                },
                end: {
                    line: 93,
                    column: 7
                }
            },
            '27': {
                start: {
                    line: 87,
                    column: 8
                },
                end: {
                    line: 91,
                    column: 52
                }
            },
            '28': {
                start: {
                    line: 89,
                    column: 12
                },
                end: {
                    line: 89,
                    column: 66
                }
            },
            '29': {
                start: {
                    line: 91,
                    column: 12
                },
                end: {
                    line: 91,
                    column: 52
                }
            },
            '30': {
                start: {
                    line: 101,
                    column: 0
                },
                end: {
                    line: 110,
                    column: 1
                }
            },
            '31': {
                start: {
                    line: 103,
                    column: 4
                },
                end: {
                    line: 109,
                    column: 7
                }
            },
            '32': {
                start: {
                    line: 104,
                    column: 8
                },
                end: {
                    line: 108,
                    column: 63
                }
            },
            '33': {
                start: {
                    line: 105,
                    column: 12
                },
                end: {
                    line: 105,
                    column: 28
                }
            },
            '34': {
                start: {
                    line: 106,
                    column: 12
                },
                end: {
                    line: 106,
                    column: 66
                }
            },
            '35': {
                start: {
                    line: 108,
                    column: 12
                },
                end: {
                    line: 108,
                    column: 63
                }
            },
            '36': {
                start: {
                    line: 141,
                    column: 0
                },
                end: {
                    line: 155,
                    column: 1
                }
            },
            '37': {
                start: {
                    line: 143,
                    column: 4
                },
                end: {
                    line: 143,
                    column: 54
                }
            },
            '38': {
                start: {
                    line: 145,
                    column: 4
                },
                end: {
                    line: 154,
                    column: 7
                }
            },
            '39': {
                start: {
                    line: 146,
                    column: 8
                },
                end: {
                    line: 153,
                    column: 58
                }
            },
            '40': {
                start: {
                    line: 147,
                    column: 12
                },
                end: {
                    line: 147,
                    column: 61
                }
            },
            '41': {
                start: {
                    line: 148,
                    column: 13
                },
                end: {
                    line: 153,
                    column: 58
                }
            },
            '42': {
                start: {
                    line: 149,
                    column: 12
                },
                end: {
                    line: 149,
                    column: 28
                }
            },
            '43': {
                start: {
                    line: 150,
                    column: 12
                },
                end: {
                    line: 150,
                    column: 72
                }
            },
            '44': {
                start: {
                    line: 153,
                    column: 12
                },
                end: {
                    line: 153,
                    column: 58
                }
            },
            '45': {
                start: {
                    line: 157,
                    column: 0
                },
                end: {
                    line: 171,
                    column: 1
                }
            },
            '46': {
                start: {
                    line: 159,
                    column: 4
                },
                end: {
                    line: 159,
                    column: 54
                }
            },
            '47': {
                start: {
                    line: 161,
                    column: 4
                },
                end: {
                    line: 170,
                    column: 7
                }
            },
            '48': {
                start: {
                    line: 162,
                    column: 8
                },
                end: {
                    line: 169,
                    column: 53
                }
            },
            '49': {
                start: {
                    line: 163,
                    column: 12
                },
                end: {
                    line: 163,
                    column: 56
                }
            },
            '50': {
                start: {
                    line: 164,
                    column: 13
                },
                end: {
                    line: 169,
                    column: 53
                }
            },
            '51': {
                start: {
                    line: 165,
                    column: 12
                },
                end: {
                    line: 165,
                    column: 28
                }
            },
            '52': {
                start: {
                    line: 166,
                    column: 12
                },
                end: {
                    line: 166,
                    column: 67
                }
            },
            '53': {
                start: {
                    line: 169,
                    column: 12
                },
                end: {
                    line: 169,
                    column: 53
                }
            },
            '54': {
                start: {
                    line: 184,
                    column: 0
                },
                end: {
                    line: 184,
                    column: 24
                }
            }
        },
        fnMap: {
            '0': {
                name: '(anonymous_0)',
                decl: {
                    start: {
                        line: 16,
                        column: 15
                    },
                    end: {
                        line: 16,
                        column: 16
                    }
                },
                loc: {
                    start: {
                        line: 16,
                        column: 30
                    },
                    end: {
                        line: 18,
                        column: 1
                    }
                },
                line: 16
            },
            '1': {
                name: '(anonymous_1)',
                decl: {
                    start: {
                        line: 20,
                        column: 16
                    },
                    end: {
                        line: 20,
                        column: 17
                    }
                },
                loc: {
                    start: {
                        line: 20,
                        column: 28
                    },
                    end: {
                        line: 22,
                        column: 1
                    }
                },
                line: 20
            },
            '2': {
                name: '(anonymous_2)',
                decl: {
                    start: {
                        line: 32,
                        column: 22
                    },
                    end: {
                        line: 32,
                        column: 23
                    }
                },
                loc: {
                    start: {
                        line: 32,
                        column: 36
                    },
                    end: {
                        line: 42,
                        column: 1
                    }
                },
                line: 32
            },
            '3': {
                name: '(anonymous_3)',
                decl: {
                    start: {
                        line: 36,
                        column: 14
                    },
                    end: {
                        line: 36,
                        column: 15
                    }
                },
                loc: {
                    start: {
                        line: 36,
                        column: 35
                    },
                    end: {
                        line: 41,
                        column: 5
                    }
                },
                line: 36
            },
            '4': {
                name: '(anonymous_4)',
                decl: {
                    start: {
                        line: 63,
                        column: 17
                    },
                    end: {
                        line: 63,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 63,
                        column: 31
                    },
                    end: {
                        line: 78,
                        column: 1
                    }
                },
                line: 63
            },
            '5': {
                name: '(anonymous_5)',
                decl: {
                    start: {
                        line: 71,
                        column: 14
                    },
                    end: {
                        line: 71,
                        column: 15
                    }
                },
                loc: {
                    start: {
                        line: 71,
                        column: 28
                    },
                    end: {
                        line: 77,
                        column: 5
                    }
                },
                line: 71
            },
            '6': {
                name: '(anonymous_6)',
                decl: {
                    start: {
                        line: 82,
                        column: 24
                    },
                    end: {
                        line: 82,
                        column: 25
                    }
                },
                loc: {
                    start: {
                        line: 82,
                        column: 38
                    },
                    end: {
                        line: 94,
                        column: 1
                    }
                },
                line: 82
            },
            '7': {
                name: '(anonymous_7)',
                decl: {
                    start: {
                        line: 86,
                        column: 45
                    },
                    end: {
                        line: 86,
                        column: 46
                    }
                },
                loc: {
                    start: {
                        line: 86,
                        column: 65
                    },
                    end: {
                        line: 93,
                        column: 5
                    }
                },
                line: 86
            },
            '8': {
                name: '(anonymous_8)',
                decl: {
                    start: {
                        line: 101,
                        column: 27
                    },
                    end: {
                        line: 101,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 101,
                        column: 41
                    },
                    end: {
                        line: 110,
                        column: 1
                    }
                },
                line: 101
            },
            '9': {
                name: '(anonymous_9)',
                decl: {
                    start: {
                        line: 103,
                        column: 48
                    },
                    end: {
                        line: 103,
                        column: 49
                    }
                },
                loc: {
                    start: {
                        line: 103,
                        column: 62
                    },
                    end: {
                        line: 109,
                        column: 5
                    }
                },
                line: 103
            },
            '10': {
                name: '(anonymous_10)',
                decl: {
                    start: {
                        line: 141,
                        column: 29
                    },
                    end: {
                        line: 141,
                        column: 30
                    }
                },
                loc: {
                    start: {
                        line: 141,
                        column: 43
                    },
                    end: {
                        line: 155,
                        column: 1
                    }
                },
                line: 141
            },
            '11': {
                name: '(anonymous_11)',
                decl: {
                    start: {
                        line: 145,
                        column: 52
                    },
                    end: {
                        line: 145,
                        column: 53
                    }
                },
                loc: {
                    start: {
                        line: 145,
                        column: 80
                    },
                    end: {
                        line: 154,
                        column: 5
                    }
                },
                line: 145
            },
            '12': {
                name: '(anonymous_12)',
                decl: {
                    start: {
                        line: 157,
                        column: 24
                    },
                    end: {
                        line: 157,
                        column: 25
                    }
                },
                loc: {
                    start: {
                        line: 157,
                        column: 38
                    },
                    end: {
                        line: 171,
                        column: 1
                    }
                },
                line: 157
            },
            '13': {
                name: '(anonymous_13)',
                decl: {
                    start: {
                        line: 161,
                        column: 47
                    },
                    end: {
                        line: 161,
                        column: 48
                    }
                },
                loc: {
                    start: {
                        line: 161,
                        column: 70
                    },
                    end: {
                        line: 170,
                        column: 5
                    }
                },
                line: 161
            }
        },
        branchMap: {
            '0': {
                loc: {
                    start: {
                        line: 37,
                        column: 8
                    },
                    end: {
                        line: 38,
                        column: 26
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 37,
                        column: 8
                    },
                    end: {
                        line: 38,
                        column: 26
                    }
                }, {
                    start: {
                        line: 37,
                        column: 8
                    },
                    end: {
                        line: 38,
                        column: 26
                    }
                }],
                line: 37
            },
            '1': {
                loc: {
                    start: {
                        line: 72,
                        column: 8
                    },
                    end: {
                        line: 76,
                        column: 74
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 72,
                        column: 8
                    },
                    end: {
                        line: 76,
                        column: 74
                    }
                }, {
                    start: {
                        line: 72,
                        column: 8
                    },
                    end: {
                        line: 76,
                        column: 74
                    }
                }],
                line: 72
            },
            '2': {
                loc: {
                    start: {
                        line: 87,
                        column: 8
                    },
                    end: {
                        line: 91,
                        column: 52
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 87,
                        column: 8
                    },
                    end: {
                        line: 91,
                        column: 52
                    }
                }, {
                    start: {
                        line: 87,
                        column: 8
                    },
                    end: {
                        line: 91,
                        column: 52
                    }
                }],
                line: 87
            },
            '3': {
                loc: {
                    start: {
                        line: 104,
                        column: 8
                    },
                    end: {
                        line: 108,
                        column: 63
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 104,
                        column: 8
                    },
                    end: {
                        line: 108,
                        column: 63
                    }
                }, {
                    start: {
                        line: 104,
                        column: 8
                    },
                    end: {
                        line: 108,
                        column: 63
                    }
                }],
                line: 104
            },
            '4': {
                loc: {
                    start: {
                        line: 146,
                        column: 8
                    },
                    end: {
                        line: 153,
                        column: 58
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 146,
                        column: 8
                    },
                    end: {
                        line: 153,
                        column: 58
                    }
                }, {
                    start: {
                        line: 146,
                        column: 8
                    },
                    end: {
                        line: 153,
                        column: 58
                    }
                }],
                line: 146
            },
            '5': {
                loc: {
                    start: {
                        line: 148,
                        column: 13
                    },
                    end: {
                        line: 153,
                        column: 58
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 148,
                        column: 13
                    },
                    end: {
                        line: 153,
                        column: 58
                    }
                }, {
                    start: {
                        line: 148,
                        column: 13
                    },
                    end: {
                        line: 153,
                        column: 58
                    }
                }],
                line: 148
            },
            '6': {
                loc: {
                    start: {
                        line: 162,
                        column: 8
                    },
                    end: {
                        line: 169,
                        column: 53
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 162,
                        column: 8
                    },
                    end: {
                        line: 169,
                        column: 53
                    }
                }, {
                    start: {
                        line: 162,
                        column: 8
                    },
                    end: {
                        line: 169,
                        column: 53
                    }
                }],
                line: 162
            },
            '7': {
                loc: {
                    start: {
                        line: 164,
                        column: 13
                    },
                    end: {
                        line: 169,
                        column: 53
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 164,
                        column: 13
                    },
                    end: {
                        line: 169,
                        column: 53
                    }
                }, {
                    start: {
                        line: 164,
                        column: 13
                    },
                    end: {
                        line: 169,
                        column: 53
                    }
                }],
                line: 164
            }
        },
        s: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0,
            '24': 0,
            '25': 0,
            '26': 0,
            '27': 0,
            '28': 0,
            '29': 0,
            '30': 0,
            '31': 0,
            '32': 0,
            '33': 0,
            '34': 0,
            '35': 0,
            '36': 0,
            '37': 0,
            '38': 0,
            '39': 0,
            '40': 0,
            '41': 0,
            '42': 0,
            '43': 0,
            '44': 0,
            '45': 0,
            '46': 0,
            '47': 0,
            '48': 0,
            '49': 0,
            '50': 0,
            '51': 0,
            '52': 0,
            '53': 0,
            '54': 0
        },
        f: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0
        },
        b: {
            '0': [0, 0],
            '1': [0, 0],
            '2': [0, 0],
            '3': [0, 0],
            '4': [0, 0],
            '5': [0, 0],
            '6': [0, 0],
            '7': [0, 0]
        },
        _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
    },
        coverage = global[gcv] || (global[gcv] = {});

    if (coverage[path] && coverage[path].hash === hash) {
        return coverage[path];
    }

    coverageData.hash = hash;
    return coverage[path] = coverageData;
}();

var _users = require('../models/users');

var _users2 = _interopRequireDefault(_users);

var _expenditures = require('../models/expenditures');

var _expenditures2 = _interopRequireDefault(_expenditures);

var _incomes = require('../models/incomes');

var _incomes2 = _interopRequireDefault(_incomes);

var _express = require('express');

var _express2 = _interopRequireDefault(_express);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var router = (cov_22vkcdqz03.s[0]++, _express2.default.Router());
var mongoose = (cov_22vkcdqz03.s[1]++, require('mongoose'));

var mongodbUri = (cov_22vkcdqz03.s[2]++, 'mongodb://userdb:userdb777@ds221271.mlab.com:21271/gullin');

cov_22vkcdqz03.s[3]++;
mongoose.connect(mongodbUri);

//mongoose.connect('mongodb://localhost:27017/expendituredb');
var db = (cov_22vkcdqz03.s[4]++, mongoose.connection);

cov_22vkcdqz03.s[5]++;
db.on('error', function (err) {
    cov_22vkcdqz03.f[0]++;
    cov_22vkcdqz03.s[6]++;

    console.log('Unable to Connect to [ ' + db.name + ' ]', err);
});

cov_22vkcdqz03.s[7]++;
db.once('open', function () {
    cov_22vkcdqz03.f[1]++;
    cov_22vkcdqz03.s[8]++;

    console.log('Successfully Connected to [ ' + db.name + ' ]');
});

/* GET users listing. */
/*router.get('/', function(req, res, next) {
  res.send('respond with a resource');
});*/ //还要解禁


cov_22vkcdqz03.s[9]++;
router.findAllusers = function (req, res) {
    cov_22vkcdqz03.f[2]++;
    cov_22vkcdqz03.s[10]++;
    //findall                 get
    // Return a JSON representation of our list
    res.setHeader('Content-Type', 'application/json');

    cov_22vkcdqz03.s[11]++;
    _users2.default.find(function (err, users) {
        cov_22vkcdqz03.f[3]++;
        cov_22vkcdqz03.s[12]++;

        if (err) {
                cov_22vkcdqz03.b[0][0]++;
                cov_22vkcdqz03.s[13]++;

                res.send(err);
            } else {
            cov_22vkcdqz03.b[0][1]++;
        }cov_22vkcdqz03.s[14]++;
        res.send(JSON.stringify(users, null, 5));
    });
};

/*router.findUserProfile = (req, res) => {

    res.setHeader('Content-Type', 'application/json');

    User.find({ "_id" : req.params.id },function(err, user) {
        if (err) {
            res.status(404);
            res.json({message: 'User NOT Found!', errmsg: err});
        }else
        //var list = user.profile;
            res.send(JSON.stringify(user,null,5));
    });
}*/

//register process
cov_22vkcdqz03.s[15]++;
router.addUser = function (req, res) {
    cov_22vkcdqz03.f[4]++;
    cov_22vkcdqz03.s[16]++;
    //post record               post

    res.setHeader('Content-Type', 'application/json');

    var user = (cov_22vkcdqz03.s[17]++, new _users2.default());
    cov_22vkcdqz03.s[18]++;
    user.email = req.body.email;
    cov_22vkcdqz03.s[19]++;
    user.password = req.body.password;

    cov_22vkcdqz03.s[20]++;
    user.save(function (err) {
        cov_22vkcdqz03.f[5]++;
        cov_22vkcdqz03.s[21]++;

        if (err) {
                cov_22vkcdqz03.b[1][0]++;
                cov_22vkcdqz03.s[22]++;

                res.json({ message: 'User NOT Added!', errmsg: err });
            } else {
                cov_22vkcdqz03.b[1][1]++;
                cov_22vkcdqz03.s[23]++;


                res.json({ message: 'User Successfully Added!', data: user });
            }
    });
};

cov_22vkcdqz03.s[24]++;
router.findOnebyEmail = function (req, res) {
    cov_22vkcdqz03.f[6]++;
    cov_22vkcdqz03.s[25]++;
    //find one record           get

    res.setHeader('Content-Type', 'application/json');

    cov_22vkcdqz03.s[26]++;
    _users2.default.find({ "email": req.params.email }, function (err, user) {
        cov_22vkcdqz03.f[7]++;
        cov_22vkcdqz03.s[27]++;

        if (user.length <= 0) {
            cov_22vkcdqz03.b[2][0]++;
            cov_22vkcdqz03.s[28]++;

            //res.status(404);
            res.json({ Message: 'Sorry! Cannot find this user !' });
        } else {
                cov_22vkcdqz03.b[2][1]++;
                cov_22vkcdqz03.s[29]++;

                res.send(JSON.stringify(user, null, 5));
            }
    });
};

cov_22vkcdqz03.s[30]++;
router.deleteUserByEmail = function (req, res) {
    cov_22vkcdqz03.f[8]++;
    cov_22vkcdqz03.s[31]++;
    //delete record             delete

    _users2.default.remove({ "email": req.params.email }, function (err) {
        cov_22vkcdqz03.f[9]++;
        cov_22vkcdqz03.s[32]++;

        if (err) {
            cov_22vkcdqz03.b[3][0]++;
            cov_22vkcdqz03.s[33]++;

            res.status(404);
            cov_22vkcdqz03.s[34]++;
            res.json({ message: 'User NOT DELETED!', errmsg: err });
        } else {
                cov_22vkcdqz03.b[3][1]++;
                cov_22vkcdqz03.s[35]++;

                res.json({ message: 'User Successfully Deleted!' });
            }
    });
};

/*router.addExistUserProfile = (req, res) => {//add profile for exist user  PUT

    User.findById(req.params.id, function(err,user) {
        if (err) {
            res.status(404);
            res.json({message: 'User NOT Found!', errmsg: err});
        }else {
            user.profile.gender = req.body.profile.gender;
            user.profile.email = req.body.profile.email;
            user.profile.phone = req.body.profile.phone;
            user.save(function (err) {
                if (err)
                    res.json({ message: 'User NOT Changed!', errmsg : err } );
                else
                    res.json({ message: 'User Profile Successfully Updated!', data: user });
            });
        }
    });
}*/

//after login
cov_22vkcdqz03.s[36]++;
router.findallexpenditures = function (req, res) {
    cov_22vkcdqz03.f[10]++;
    cov_22vkcdqz03.s[37]++;
    //if login sucessfully                 get
    // Return a JSON representation of our list
    res.setHeader('Content-Type', 'application/json');

    cov_22vkcdqz03.s[38]++;
    _expenditures2.default.find({ "email": req.params.email }, function (err, expenditures) {
        cov_22vkcdqz03.f[11]++;
        cov_22vkcdqz03.s[39]++;

        if (expenditures.length <= 0) {
                cov_22vkcdqz03.b[4][0]++;
                cov_22vkcdqz03.s[40]++;

                res.json({ Message: 'You have no expenditures!' });
            } else {
                cov_22vkcdqz03.b[4][1]++;
                cov_22vkcdqz03.s[41]++;
                if (err) {
                    cov_22vkcdqz03.b[5][0]++;
                    cov_22vkcdqz03.s[42]++;

                    res.status(404);
                    cov_22vkcdqz03.s[43]++;
                    res.json({ Message: 'Sorry! Cannot find any expenditures!' });
                } else {
                        cov_22vkcdqz03.b[5][1]++;
                        cov_22vkcdqz03.s[44]++;

                        res.send(JSON.stringify(expenditures, null, 5));
                    }
            }
    });
};

cov_22vkcdqz03.s[45]++;
router.findallincomes = function (req, res) {
    cov_22vkcdqz03.f[12]++;
    cov_22vkcdqz03.s[46]++;
    //if login sucessfully                 get
    // Return a JSON representation of our list
    res.setHeader('Content-Type', 'application/json');

    cov_22vkcdqz03.s[47]++;
    _incomes2.default.find({ "email": req.params.email }, function (err, incomes) {
        cov_22vkcdqz03.f[13]++;
        cov_22vkcdqz03.s[48]++;

        if (incomes.length <= 0) {
                cov_22vkcdqz03.b[6][0]++;
                cov_22vkcdqz03.s[49]++;

                res.json({ Message: 'You have no incomes!' });
            } else {
                cov_22vkcdqz03.b[6][1]++;
                cov_22vkcdqz03.s[50]++;
                if (err) {
                    cov_22vkcdqz03.b[7][0]++;
                    cov_22vkcdqz03.s[51]++;

                    res.status(404);
                    cov_22vkcdqz03.s[52]++;
                    res.json({ Message: 'Sorry! Cannot find any incomes!' });
                } else {
                        cov_22vkcdqz03.b[7][1]++;
                        cov_22vkcdqz03.s[53]++;

                        res.send(JSON.stringify(incomes, null, 5));
                    }
            }
    });
};

cov_22vkcdqz03.s[54]++;
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJtb25nb29zZSIsInJlcXVpcmUiLCJtb25nb2RiVXJpIiwiY29ubmVjdCIsImRiIiwiY29ubmVjdGlvbiIsIm9uIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm5hbWUiLCJvbmNlIiwiZmluZEFsbHVzZXJzIiwicmVxIiwicmVzIiwic2V0SGVhZGVyIiwiVXNlciIsImZpbmQiLCJ1c2VycyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkVXNlciIsInVzZXIiLCJlbWFpbCIsImJvZHkiLCJwYXNzd29yZCIsInNhdmUiLCJqc29uIiwibWVzc2FnZSIsImVycm1zZyIsImRhdGEiLCJmaW5kT25lYnlFbWFpbCIsInBhcmFtcyIsImxlbmd0aCIsIk1lc3NhZ2UiLCJkZWxldGVVc2VyQnlFbWFpbCIsInJlbW92ZSIsInN0YXR1cyIsImZpbmRhbGxleHBlbmRpdHVyZXMiLCJFeHBlbmRpdHVyZSIsImV4cGVuZGl0dXJlcyIsImZpbmRhbGxpbmNvbWVzIiwiSW5jb21lIiwiaW5jb21lcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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LCJzb3VyY2VSb290IjoiQzovVXNlcnMvZGVsbC9EZXNrdG9wL2FjY291bnRpbmd0ZXN0aW5ncy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlcnMnO1xyXG5pbXBvcnQgRXhwZW5kaXR1cmUgZnJvbSAnLi4vbW9kZWxzL2V4cGVuZGl0dXJlcyc7XHJcbmltcG9ydCBJbmNvbWUgZnJvbSAnLi4vbW9kZWxzL2luY29tZXMnO1xyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuXHJcbmxldCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5sZXQgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5cclxudmFyIG1vbmdvZGJVcmkgPSdtb25nb2RiOi8vdXNlcmRiOnVzZXJkYjc3N0BkczIyMTI3MS5tbGFiLmNvbToyMTI3MS9ndWxsaW4nO1xyXG5cclxubW9uZ29vc2UuY29ubmVjdChtb25nb2RiVXJpKTtcclxuXHJcbi8vbW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9leHBlbmRpdHVyZWRiJyk7XHJcbmxldCBkYiA9IG1vbmdvb3NlLmNvbm5lY3Rpb247XHJcblxyXG5kYi5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmxvZygnVW5hYmxlIHRvIENvbm5lY3QgdG8gWyAnICsgZGIubmFtZSArICcgXScsIGVycik7XHJcbn0pO1xyXG5cclxuZGIub25jZSgnb3BlbicsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgQ29ubmVjdGVkIHRvIFsgJyArIGRiLm5hbWUgKyAnIF0nKTtcclxufSk7XHJcblxyXG4vKiBHRVQgdXNlcnMgbGlzdGluZy4gKi9cclxuLypyb3V0ZXIuZ2V0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcclxuICByZXMuc2VuZCgncmVzcG9uZCB3aXRoIGEgcmVzb3VyY2UnKTtcclxufSk7Ki8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/ov5jopoHop6PnpoFcclxuXHJcblxyXG5cclxuXHJcbnJvdXRlci5maW5kQWxsdXNlcnMgPSAocmVxLCByZXMpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9maW5kYWxsICAgICAgICAgICAgICAgICBnZXRcclxuICAgIC8vIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2Ygb3VyIGxpc3RcclxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcblxyXG4gICAgVXNlci5maW5kKGZ1bmN0aW9uKGVyciwgdXNlcnMpIHtcclxuICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICByZXMuc2VuZChlcnIpO1xyXG5cclxuICAgICAgICByZXMuc2VuZChKU09OLnN0cmluZ2lmeSh1c2VycyxudWxsLDUpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbi8qcm91dGVyLmZpbmRVc2VyUHJvZmlsZSA9IChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcblxyXG4gICAgVXNlci5maW5kKHsgXCJfaWRcIiA6IHJlcS5wYXJhbXMuaWQgfSxmdW5jdGlvbihlcnIsIHVzZXIpIHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KTtcclxuICAgICAgICAgICAgcmVzLmpzb24oe21lc3NhZ2U6ICdVc2VyIE5PVCBGb3VuZCEnLCBlcnJtc2c6IGVycn0pO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgLy92YXIgbGlzdCA9IHVzZXIucHJvZmlsZTtcclxuICAgICAgICAgICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkodXNlcixudWxsLDUpKTtcclxuICAgIH0pO1xyXG59Ki9cclxuXHJcblxyXG5cclxuLy9yZWdpc3RlciBwcm9jZXNzXHJcbnJvdXRlci5hZGRVc2VyID0gKHJlcSwgcmVzKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCByZWNvcmQgICAgICAgICAgICAgICBwb3N0XHJcblxyXG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuXHJcbiAgICB2YXIgdXNlciA9IG5ldyBVc2VyKCk7XHJcbiAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWw7XHJcbiAgICB1c2VyLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQ7XHJcblxyXG4gICAgdXNlci5zYXZlKGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ1VzZXIgTk9UIEFkZGVkIScsIGVycm1zZyA6IGVyciB9ICk7XHJcbiAgICAgICAgZWxzZVxyXG5cclxuICAgICAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnVXNlciBTdWNjZXNzZnVsbHkgQWRkZWQhJywgZGF0YTogdXNlciB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbnJvdXRlci5maW5kT25lYnlFbWFpbCA9IChyZXEsIHJlcykgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZmluZCBvbmUgcmVjb3JkICAgICAgICAgICBnZXRcclxuXHJcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG5cclxuICAgIFVzZXIuZmluZCh7IFwiZW1haWxcIiA6IHJlcS5wYXJhbXMuZW1haWwgfSxmdW5jdGlvbihlcnIsIHVzZXIpIHtcclxuICAgICAgICBpZiAodXNlci5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAvL3Jlcy5zdGF0dXMoNDA0KTtcclxuICAgICAgICAgICAgcmVzLmpzb24oe01lc3NhZ2U6ICdTb3JyeSEgQ2Fubm90IGZpbmQgdGhpcyB1c2VyICEnfSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkodXNlciwgbnVsbCwgNSkpO1xyXG5cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbnJvdXRlci5kZWxldGVVc2VyQnlFbWFpbCA9IChyZXEsIHJlcykgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlbGV0ZSByZWNvcmQgICAgICAgICAgICAgZGVsZXRlXHJcblxyXG4gICAgVXNlci5yZW1vdmUoeyBcImVtYWlsXCIgOiByZXEucGFyYW1zLmVtYWlsIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xyXG4gICAgICAgICAgICByZXMuanNvbih7bWVzc2FnZTogJ1VzZXIgTk9UIERFTEVURUQhJywgZXJybXNnOiBlcnJ9KTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdVc2VyIFN1Y2Nlc3NmdWxseSBEZWxldGVkISd9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG4vKnJvdXRlci5hZGRFeGlzdFVzZXJQcm9maWxlID0gKHJlcSwgcmVzKSA9PiB7Ly9hZGQgcHJvZmlsZSBmb3IgZXhpc3QgdXNlciAgUFVUXHJcblxyXG4gICAgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkLCBmdW5jdGlvbihlcnIsdXNlcikge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xyXG4gICAgICAgICAgICByZXMuanNvbih7bWVzc2FnZTogJ1VzZXIgTk9UIEZvdW5kIScsIGVycm1zZzogZXJyfSk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB1c2VyLnByb2ZpbGUuZ2VuZGVyID0gcmVxLmJvZHkucHJvZmlsZS5nZW5kZXI7XHJcbiAgICAgICAgICAgIHVzZXIucHJvZmlsZS5lbWFpbCA9IHJlcS5ib2R5LnByb2ZpbGUuZW1haWw7XHJcbiAgICAgICAgICAgIHVzZXIucHJvZmlsZS5waG9uZSA9IHJlcS5ib2R5LnByb2ZpbGUucGhvbmU7XHJcbiAgICAgICAgICAgIHVzZXIuc2F2ZShmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ1VzZXIgTk9UIENoYW5nZWQhJywgZXJybXNnIDogZXJyIH0gKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdVc2VyIFByb2ZpbGUgU3VjY2Vzc2Z1bGx5IFVwZGF0ZWQhJywgZGF0YTogdXNlciB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0qL1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL2FmdGVyIGxvZ2luXHJcbnJvdXRlci5maW5kYWxsZXhwZW5kaXR1cmVzID0gKHJlcSwgcmVzKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbG9naW4gc3VjZXNzZnVsbHkgICAgICAgICAgICAgICAgIGdldFxyXG4gICAgLy8gUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBvdXIgbGlzdFxyXG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuXHJcbiAgICBFeHBlbmRpdHVyZS5maW5kKHsgXCJlbWFpbFwiIDogcmVxLnBhcmFtcy5lbWFpbCB9LGZ1bmN0aW9uKGVyciwgZXhwZW5kaXR1cmVzKSB7XHJcbiAgICAgICAgaWYgKGV4cGVuZGl0dXJlcy5sZW5ndGggPD0gMClcclxuICAgICAgICAgICAgcmVzLmpzb24oe01lc3NhZ2U6ICdZb3UgaGF2ZSBubyBleHBlbmRpdHVyZXMhJ30pO1xyXG4gICAgICAgIGVsc2UgaWYoZXJyKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xyXG4gICAgICAgICAgICByZXMuanNvbih7TWVzc2FnZTogJ1NvcnJ5ISBDYW5ub3QgZmluZCBhbnkgZXhwZW5kaXR1cmVzISd9KTtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkoZXhwZW5kaXR1cmVzLG51bGwsNSkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbnJvdXRlci5maW5kYWxsaW5jb21lcyA9IChyZXEsIHJlcykgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIGxvZ2luIHN1Y2Vzc2Z1bGx5ICAgICAgICAgICAgICAgICBnZXRcclxuICAgIC8vIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2Ygb3VyIGxpc3RcclxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcblxyXG4gICAgSW5jb21lLmZpbmQoeyBcImVtYWlsXCIgOiByZXEucGFyYW1zLmVtYWlsIH0sZnVuY3Rpb24oZXJyLCBpbmNvbWVzKSB7XHJcbiAgICAgICAgaWYgKGluY29tZXMubGVuZ3RoIDw9IDApXHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtNZXNzYWdlOiAnWW91IGhhdmUgbm8gaW5jb21lcyEnfSk7XHJcbiAgICAgICAgZWxzZSBpZihlcnIpe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCk7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtNZXNzYWdlOiAnU29ycnkhIENhbm5vdCBmaW5kIGFueSBpbmNvbWVzISd9KTtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkoaW5jb21lcyxudWxsLDUpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXX0=